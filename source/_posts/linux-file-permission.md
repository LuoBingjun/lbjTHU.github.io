---
title: Linux的文件权限和相关命令
date: 2019-04-10 11:24:45
tags: [linux]
---

# 理解Linux的文件访问权限

在Linux系统中，每个文件和目录都有所有者(User)、同一用户组(Group)和其他用户(Others)三个权限组，而每个权限组都有读(r)、写(w)和可执行(x)三种访问权限，用它来确定谁可以通过何种方式对文件和目录进行访问和操作。

在实际操作中，我们常常用777、664的数字代码来表示文件或目录的权限，这种表示形式实际上是3个3位二进制数，从左到右每个数字分别表示所有者、用户组和其他用户的权限，而每个数字的3个二进制位分别表示读、写和可执行的权限，具体对应的权限如下：

- 0 – 无权限
- 1 – x 可执行
- 2 – w 只写
- 3 – wx 写、可执行
- 4 – r 只读
- 5 – rx 读、可执行
- 6 – rw 读、写
- 7 – rwx 读、写、可执行

文件被创建时，文件所有者自动拥有对该文件的读、写和可执行权限，以便于对文件的阅读和修改。用户也可根据需要把访问权限设置为需要的任何组合。

# 三个文件权限命令
## chmod：改变文件访问权限

chmod命令主要有两种参数形式：

```sh
chmod [-R] [权限码] [文件名]
```

权限码就是上面提到的数字代码，-R表示递归改变该目录下的所有文件和子目录

```sh
chmod [-R] [who] [+ | – | =] [mode] [文件名]
```
操作对象who可是下述字母中的任一个或者它们的组合：
- u 表示所有者(user)
- g 表示同组用户(group)，即与文件属主有相同组ID的所有用户
- o 表示其他用户(others)
- a 表示所有用户(all)，它是系统默认值

操作符号可以是：
- \+ 添加某个权限
- – 取消某个权限
- = 赋予给定权限并取消其他所有权限（如果有的话）
  
设置mode所表示的权限可用下述字母的任意组合：
- r 可读
- w 可写
- x 可执行

## chgrp：改变文件所属用户组
chgrp命令用来改变文件和目录所属的用户组，这种方式采用组名或识别码都可以，组名和识别码在/etc/group文件中都可以查到

```sh
chgrp [-R] [组] [文件名]
```

## chown：改变文件所有者
chown将指定文件的拥有者改为指定的用户或组，用户可以是用户名或者用户ID；组可以是组名或者组ID；文件是以空格分开的要改变权限的文件列表，支持通配符

```sh
chown [-R] [所有者][:[组]] [文件名]
```




